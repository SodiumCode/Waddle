<root><head><waddleversion>0</waddleversion><dataversion>0</dataversion></head><body><blocks><xml xmlns="https://developers.google.com/blockly/xml"><block type="vw_defTypes" id="#($p`(B0gLMeNNqP9=%v" x="263" y="255"><field name="type">PASSWORD_INPUT_WIDGET</field><field name="icon">https://waddle.coco-central.cn/static/img/logo/logo-white.svg</field><field name="title">密码框</field><field name="version">1.0.0</field><field name="width">280</field><field name="height">48</field><next><block type="vw_defWidget" id="vPD/UG[D8!mHTmj5n.x["><statement name="constructor"><block type="ivw_propsinit" id="=6$Kl9W.D+oFJ1im18Tf"><field name="props_name">enter_text</field><next><block type="ivw_propsinit" id="Po][z@9{nYiI@{k$EN5V"><field name="props_name">prompt_text</field><next><block type="ivw_propsinit" id="RnE`F]RRF=SkgGtj(PzZ"><field name="props_name">font_size</field><next><block type="ivw_propsinit" id="8NlR0)yU.CsV#Qz2{D=6"><field name="props_name">enter_text_color</field><next><block type="ivw_propsinit" id="o$*n,IG4R1h|~bimqggm"><field name="props_name">background_color</field><next><block type="ivw_propsinit" id="nX;AFIlHgP79y~ytUwj["><field name="props_name">border_color</field></block></next></block></next></block></next></block></next></block></next></block></statement><statement name="render"><block type="vw_returnrender" id="F#xc23MhHgNJ@vp)#3fz"><statement name="HTML"><block type="html_input" id="(zY5T{Npp+r|ja1%mLU{"><statement name="PRO"><block type="html_attribute" id="$[`xT,uhutT6U*(dqUVu"><field name="KEY">type</field><value name="VALUE"><block type="text" id="YuRaenuX[+NwpHZ$-1kD"><field name="TEXT">password</field></block></value><next><block type="html_attribute" id=")ASa-r`HFnQrpw92bYt_"><field name="KEY">value</field><value name="VALUE"><block type="ivw_getproperty" id="51JB|Y(;X]-0!}b9DGp;"><field name="KEY">enter_text</field></block></value><next><block type="html_attribute" id="inTMS^GP{lsC?E[?jve@"><field name="KEY">placeholder</field><value name="VALUE"><block type="ivw_getproperty" id="|VnD+LBV6FgWo-qP/[}a"><field name="KEY">prompt_text</field></block></value><next><block type="html_attribute_event" id="am]tA$Lg5Nicj[%JMgD]"><field name="eventName">onChange</field><field name="widgetEventName">on_change</field><next><block type="html_attribute_style" id="~VkK1gg[6tTms:9:Zcq]"><statement name="CON"><block type="html_css" id="Tf%KWt(4H_mU0;#;=4E5"><field name="NAME">fontSize</field><value name="VAL"><block type="ivw_getproperty" id="oQIOMMY*1^L7hP#OV7ze"><field name="KEY">font_size</field></block></value><next><block type="html_css" id="3)eMV3RsOma1`9~rJ?,O"><field name="NAME">color</field><value name="VAL"><block type="ivw_getproperty" id="(4Cdbyr-?w5[||q]bubA"><field name="KEY">enter_text_color</field></block></value><next><block type="html_css" id="3d`g7Zw9%Chng{%n]u0f"><field name="NAME">backgroundColor</field><value name="VAL"><block type="ivw_getproperty" id="#{JOYw3{L3,BKO_YB!wQ"><field name="KEY">background_color</field></block></value><next><block type="html_css" id="B)rH^lSI{wg@_XbFJRHw"><field name="NAME">borderColor</field><value name="VAL"><block type="ivw_getproperty" id="G9ilIFL:Q;NfB=:p]X1A"><field name="KEY">border_color</field></block></value><next><block type="html_css" id="L:pc[jr=RWl@rN1Dker["><field name="NAME">borderRadius</field><value name="VAL"><block type="html_other_px" id="!5vZ#mexJ*~0ZLbx9|6z"><value name="VAL"><shadow type="math_number" id="bkN[pYrP16.h!2?Otrv$"><field name="NUM">4</field></shadow></value></block></value><next><block type="html_css" id="KkZTCJO4)9(TG!_PAsdn"><field name="NAME">width</field><value name="VAL"><block type="html_other_%" id="I]`qwKW)Le!O-7c9t_fb"><value name="VAL"><shadow type="math_number" id="7FjisSD7G}_:bT_oSkka"><field name="NUM">100</field></shadow></value></block></value><next><block type="html_css" id="DQ:c*~7Lk.B.zE*N!6#N"><field name="NAME">height</field><value name="VAL"><block type="html_other_%" id="Z$mpouYCG(geLqwSXh!A"><value name="VAL"><shadow type="math_number" id="*-Go?(;)[cXU929t.hI|"><field name="NUM">100</field></shadow></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></statement></block></statement></block></statement><next><block type="ivw_addProperty" id="70K{uUc`SuKOfO[S):2/" inline="true"><field name="label">输入文本</field><field name="key">enter_text</field><field name="valueType">string</field><value name="defaultValue"><block type="text" id="Oyh2ZIcM/_yI!sWpy@IO"><field name="TEXT"></field></block></value><next><block type="ivw_addProperty" id="n9V@g2[0[0:n-cr|^GV=" inline="true"><field name="label">提示文本</field><field name="key">prompt_text</field><field name="valueType">string</field><value name="defaultValue"><block type="text" id="v1JyEu8|#@ohZcQ*Ii8P"><field name="TEXT">请输入密码：</field></block></value><next><block type="ivw_addProperty" id="$$|ELHd*(eO9Z|q,2,:g" inline="true"><field name="label">字号</field><field name="key">font_size</field><field name="valueType">number</field><value name="defaultValue"><block type="math_number" id="`2]GjjMOoj3C?HePGx:M"><field name="NUM">14</field></block></value><next><block type="ivw_addProperty" id="h3+QsJ,)3PdUE0@j)kw6" inline="true"><field name="label">输入文本颜色</field><field name="key">enter_text_color</field><field name="valueType">color</field><value name="defaultValue"><block type="colour_rgb" id="ZLLlf]D`Nw0*k3bGr!+A"><value name="RED"><shadow type="math_number" id="UmQxNyzZ{}{h~g3x]-q`"><field name="NUM">0</field></shadow></value><value name="GREEN"><shadow type="math_number" id="Pl57@4XQ!}zQGJ{Y|Z-V"><field name="NUM">0</field></shadow></value><value name="BLUE"><shadow type="math_number" id="._C.zsh}+P{Y1v4${Mx^"><field name="NUM">0</field></shadow></value></block></value><next><block type="ivw_addProperty" id="eVN:qlu+b;YioD^hO5N+" inline="true"><field name="label">背景色</field><field name="key">background_color</field><field name="valueType">color</field><value name="defaultValue"><block type="colour_rgb" id="GY=j=0OlMj(tR7No1inP"><value name="RED"><shadow type="math_number" id="3nMxyHcsBPjp4dWT8FGk"><field name="NUM">255</field></shadow></value><value name="GREEN"><shadow type="math_number" id=")fx?Y1bE;5!oQZC/RnUu"><field name="NUM">255</field></shadow></value><value name="BLUE"><shadow type="math_number" id="#.|u8Kt34]q=cbERVTDm"><field name="NUM">255</field></shadow></value></block></value><next><block type="ivw_addProperty" id="t!E^Q+YmpnN8jEV@@2Be" inline="true"><field name="label">边框色</field><field name="key">border_color</field><field name="valueType">color</field><value name="defaultValue"><block type="colour_rgb" id=";A$gzISf#WvR^U.`b[Ct"><value name="RED"><shadow type="math_number" id="6Plh6O]y[OzNV2SXc$VY"><field name="NUM">93</field></shadow></value><value name="GREEN"><shadow type="math_number" id="CSILS-+S?J]%MwK[xI,`"><field name="NUM">197</field></shadow></value><value name="BLUE"><shadow type="math_number" id="d[oq7[`V:wKVQiXz7F%$"><field name="NUM">251</field></shadow></value></block></value><next><block type="vw_addEvent" id="t3Lw,@.L6XJT!Z;utUF|"><field name="label">值被改变</field><field name="key">on_change</field><statement name="params"><block type="ivw_addEventParams" id="wN|L0aAIj05f2NQ7.?W4"><field name="label">值</field><field name="key">value</field><field name="valueType">'string'</field></block></statement><statement name="code"><block type="vw_setprop" id="HEPLI_j`)cFQ]b@4;C!s"><field name="name">enter_text</field><value name="value"><block type="js_run2" id="v{0x2[s9vd^mN:-hP/Z@"><field name="CODE">event.target.value</field></block></value><next><block type="ivw_emit" id=",E5{J-b4^(Ii::@K5RE2"><field name="event">on_change</field><statement name="parameters"><block type="js_run" id="w~f3~RvepMeaC3q/+f;C"><field name="CODE">,event.target.value</field></block></statement></block></next></block></statement><next><block type="ivw_export" id="9XvRlww2v`Y)Y,zKVRPn"></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></xml></blocks><js>function colourRgb(r, g, b) {
  r = ('0' + (Math.round(r) || 0).toString(16)).slice(-2);
  g = ('0' + (Math.round(g) || 0).toString(16)).slice(-2);
  b = ('0' + (Math.round(b) || 0).toString(16)).slice(-2);
  return '#' + r + g + b;
}



const types = {
  isInvisibleWidget: false,
  type: "PASSWORD_INPUT_WIDGET",
  icon: "https://waddle.coco-central.cn/static/img/logo/logo-white.svg",
  title: "密码框",
  version: "1.0.0",
  isGlobalWidget: false,
  properties: [
    {
      key: '__width',
      label: '宽度',
      valueType: 'number',
      defaultValue: 280,
      blockOptions: {
        generateBlock: false,
      },
    },
    {
      key: '__height',
      label: '高度',
      valueType: 'number',
      defaultValue: 48,
      blockOptions: {
        generateBlock: false,
      },
    },
    {
      key: '__size',
      label: '',
      valueType: 'number',
      defaultValue: 0,
      readonly: true,
      blockOptions: {
        setter: {
          keys: ['__height', '__width'],
        },
        getter: {
          keys: ['__height', '__width'],
        },
      },
    },
  ],
  methods: [],
  events: [],
};

class Widget extends VisibleWidget {
  constructor(props) {
    super(props);
    this.__width = props.__width;
    this.__height = props.__height;
    this.enter_text=props.enter_text;
  this.prompt_text=props.prompt_text;
  this.font_size=props.font_size;
  this.enter_text_color=props.enter_text_color;
  this.background_color=props.background_color;
  this.border_color=props.border_color;

  }
  render() {
    return(
      React.createElement("input", {  type: 'password',
      value: (this.enter_text),
      placeholder: (this.prompt_text),
      onChange: this.on_change.bind(this),
      style: {  fontSize: (this.font_size),
        color: (this.enter_text_color),
        backgroundColor: (this.background_color),
        borderColor: (this.border_color),
        borderRadius: "4px",
        width: "100%",
        height: "100%",
      },
    }, null)
  );

  }
}

types['properties'].push({
    key: 'enter_text',
    label: '输入文本',
    valueType: 'string',
    defaultValue: '',

})

types['properties'].push({
    key: 'prompt_text',
    label: '提示文本',
    valueType: 'string',
    defaultValue: '请输入密码：',

})

types['properties'].push({
    key: 'font_size',
    label: '字号',
    valueType: 'number',
    defaultValue: 14,

})

types['properties'].push({
    key: 'enter_text_color',
    label: '输入文本颜色',
    valueType: 'color',
    defaultValue: (colourRgb(0, 0, 0)),

})

types['properties'].push({
    key: 'background_color',
    label: '背景色',
    valueType: 'color',
    defaultValue: (colourRgb(255, 255, 255)),

})

types['properties'].push({
    key: 'border_color',
    label: '边框色',
    valueType: 'color',
    defaultValue: (colourRgb(93, 197, 251)),

})

types['events'].push({
    key: 'on_change',
    label: '值被改变',
    params: [
      {
          key: 'value',
          label: '值',
          valueType: 'string',
      },],

})
Widget.prototype.on_change = function (event) {
      this.setProps({ 'enter_text': event.target.value });
  this.emit("on_change"  ,event.target.value);
}

exports.types = types;
exports.widget = Widget;
</js></body></root>